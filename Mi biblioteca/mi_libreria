CREATE DATABASE mi_libreria;

USE mi_libreria;

CREATE TABLE IF NOT EXISTS book(
id INT PRIMARY KEY auto_increment NOT NULL ,
name_author_id INT,
gender_id INT NOT NULL,
page INT  ,
editorial_id INT NOT NULL ,
publication VARCHAR(100) ,
format_id INT NOT NULL,
CONSTRAINT fk_book_author Foreign KEY (name_author_id) REFERENCES author(id),
CONSTRAINT fk_book_gender Foreign KEY (gender_id) REFERENCES gender(id),
CONSTRAINT fk_book_editorial Foreign KEY (editorial_id) REFERENCES editorial(id),
CONSTRAINT fk_book_format Foreign KEY (format_id) REFERENCES format(id)
);

CREATE TABLE IF NOT EXISTS author(
id INT PRIMARY KEY auto_increment NOT NULL,
author VARCHAR(100) NOT NULL,
birth DATE,
nationality VARCHAR(100) ,
mother_tongue VARCHAR(100) 
);
CREATE TABLE IF NOT EXISTS gender(
id INT PRIMARY KEY auto_increment NOT NULL,
gender VARCHAR(50) NOT NULL,
depcription VARCHAR(100) NOT NULL
);
CREATE TABLE IF NOT EXISTS editorial(
id INT PRIMARY KEY auto_increment NOT NULL,
editorial VARCHAR(100) NOT NULL,
format VARCHAR(50) NOT NULL,
Foundation DATE
);
CREATE TABLE IF NOT EXISTS format(
id INT PRIMARY KEY auto_increment NOT NULL ,
format VARCHAR(100)
);

CREATE TABLE IF NOT EXISTS pending_book(
id INT PRIMARY KEY auto_increment NOT NULL ,
id_book INT NOT NULL,
purchase_date DATE,
CONSTRAINT fk_pending_book Foreign KEY (id_book) REFERENCES book(id)
);

CREATE TABLE IF NOT EXISTS interest_book(
id INT PRIMARY KEY auto_increment NOT NULL ,
id_book INT NOT NULL,
remark VARCHAR(150),
CONSTRAINT fk_interest_book Foreign KEY (id_book) REFERENCES book(id)
);

CREATE TABLE IF NOT EXISTS read_book(
id INT PRIMARY KEY auto_increment NOT NULL ,
id_book INT NOT NULL,
start_read DATE,
finish_read DATE,
id_ranking INT NOT NULL,
opinion VARCHAR(150),
CONSTRAINT fk_read_book Foreign KEY (id_book) REFERENCES book(id),
CONSTRAINT fk_interest_ranking Foreign KEY (id_ranking) REFERENCES ranking(id)
);

CREATE TABLE IF NOT EXISTS ranking(
id INT PRIMARY KEY auto_increment NOT NULL ,
ranking VARCHAR(40)
);


INSERT INTO author (author, birth, nationality, mother_tongue)
VALUES
  ("Wayne W. Dyer", "1940-05-10", "US", "English"),
  ("Scott Hawkins", "1971-05", NULL, NULL),
  ("Umberto Eco", "1932-01-05", "Italy", "Italian"),
  ("John Katzenbach", "1950-06-23", "US", "English"),
  ("Colleen McCullough", "1937-07-01", "Australia", "English");

INSERT INTO gender (gender, depcription) 
VALUES
  ("Misterio", "Los libros de misterio se centran en la resolución de un enigma o crimen. Los personajes, a menudo detectives o investigadores, trabajan para descubrir la verdad detrás de eventos misteriosos. Los lectores disfrutan de la intriga y la emoción de seguir las pistas y resolver el misterio junto con los personajes."),
  ("Romance", "El género destaca las emociones y los desafíos que enfrentan las parejas mientras desarrollan su relación."),
  ("Autoayuda", "Son aquellos textos en los que se pretende mejorar una emoción, pensamiento o frustración de forma autónoma."),
  ("Poesía", "La poesía es una forma de expresión artística que utiliza un lenguaje figurado y creativo para transmitir pensamientos, emociones y experiencias. Los libros de poesía contienen poemas que a menudo se centran en la belleza del lenguaje y la métrica. Los poetas pueden explorar una amplia gama de temas, desde el amor y la naturaleza hasta cuestiones sociales y políticas.");


INSERT INTO editorial (editorial) 
VALUES ("B DE BOLSILlo"),
       ("Penguin Random House"),
       ("Colmena Ediciones"),
       ("Ediciones Grijalbo");

INSERT INTO format (format)
VALUES
  ("online"),
  ("físico");
